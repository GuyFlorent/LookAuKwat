@using PagedList;
@using System.Globalization;
@using PagedList.Mvc;
@model LookAuKwat.ViewModel.SeachJobViewModel

@*<p>@DateTime.Now</p>*@

@if (Model.ListePro.Count == 0)
{

    <p class="text-danger">Pas de résultats disponible !</p>

}
else
{
    <div class="col-md-12" id="groupeResultSearch">
        <div class="col-md-6">
            <div>


                <label class="col-md-2">
                    Tri :
                </label>
                @if (Model.CagtegorieSearch == "Emploi")
                {
                    <select class="SelectJob" id="SelectJob">
                        <option value="---Choisir---">---Choisir---</option>
                        <option id="AscendingPrice" value="Tri par Prix croissant"> Tri par Prix croissant</option>
                        <option id="descendingPrice" value="Tri par Prix décroissant">Tri par Prix décroissant</option>
                        <option id="MostOlder" value="Tri par Plus anciennes">Tri par Plus anciennes</option>
                        <option id="MostLastest" value="Tri par Plus recentes">Tri par Plus recentes</option>
                    </select>
                }
                else if (Model.CagtegorieSearch == "Immobilier")
                {
                    <select class="SelectFlat" id="SelectFlat">
                        <option value="---Choisir---">---Choisir---</option>
                        <option id="AscendingFlatPrice" value="Tri par Prix croissant"> Tri par Prix croissant</option>
                        <option id="descendingFlatPrice" value="Tri par Prix décroissant">Tri par Prix décroissant</option>
                        <option id="MostOlderFlat" value="Tri par Plus anciennes">Tri par Plus anciennes</option>
                        <option id="MostLastestFlat" value="Tri par Plus recentes">Tri par Plus recentes</option>
                    </select>
                }
                else if (Model.CagtegorieSearch == "Multimedia")
                {
                    <select class="SelectMulti" id="SelectMulti">
                        <option value="---Choisir---">---Choisir---</option>
                        <option id="AscendingMultiPrice" value="Tri par Prix croissant"> Tri par Prix croissant</option>
                        <option id="descendingMultiPrice" value="Tri par Prix décroissant">Tri par Prix décroissant</option>
                        <option id="MostOlderMulti" value="Tri par Plus anciennes">Tri par Plus anciennes</option>
                        <option id="MostLastestMulti" value="Tri par Plus recentes">Tri par Plus recentes</option>
                    </select>
                }
                else if (Model.CagtegorieSearch == "Vehicule")
                {
                    <select class="SelectVehi" id="SelectVehi">
                        <option value="---Choisir---">---Choisir---</option>
                        <option id="AscendingVehiPrice" value="Tri par Prix croissant"> Tri par Prix croissant</option>
                        <option id="descendingVehiPrice" value="Tri par Prix décroissant">Tri par Prix décroissant</option>
                        <option id="MostOlderVehi" value="Tri par Plus anciennes">Tri par Plus anciennes</option>
                        <option id="MostLastestVehi" value="Tri par Plus recentes">Tri par Plus recentes</option>
                    </select>
                }
                else if (Model.CagtegorieSearch == "Mode")
                {
                    <select class="SelectMode" id="SelectMode">
                        <option value="---Choisir---">---Choisir---</option>
                        <option id="AscendingModePrice" value="Tri par Prix croissant"> Tri par Prix croissant</option>
                        <option id="descendingModePrice" value="Tri par Prix décroissant">Tri par Prix décroissant</option>
                        <option id="MostOlderMode" value="Tri par Plus anciennes">Tri par Plus anciennes</option>
                        <option id="MostLastestMode" value="Tri par Plus recentes">Tri par Plus recentes</option>
                    </select>
                }
               
                @*<a id="AscendingPrice" class="btn">Tri par Prix croissant</a>
        <a id="descendingPrice" class="btn">Tri par Prix décroissantt</a>
        <a id="MostOlder" class="btn">Tri par Plus anciennes</a>
        <a id="MostLastest" class="btn">Tri par Plus recentes</a>*@

                @*<div id="CompanySearchResults"></div>*@

                @*@Ajax.ActionLink("Prix croissant", "ResultSearchOfferJob_PartialView", "JobOfferSearch", new { sortBy = "Price asc" }, new AjaxOptions { HttpMethod = "GET", InsertionMode = InsertionMode.Replace, UpdateTargetId = "groupeResultSearch" }, new { @class = "test" })

        @Ajax.ActionLink("Prix décroissant", "ResultSearchOfferJob_PartialView", "JobOfferSearch", new { sortBy = "Price desc" }, new AjaxOptions { HttpMethod = "GET", InsertionMode = InsertionMode.Replace, UpdateTargetId = "groupeResultSearch" })
        @Ajax.ActionLink("Plus anciennes", "ResultSearchOfferJob_PartialView", "JobOfferSearch", new { sortBy = "date asc" }, new AjaxOptions { HttpMethod = "GET", InsertionMode = InsertionMode.Replace, UpdateTargetId = "groupeResultSearch" })
        @Ajax.ActionLink("Plus recentes", "ResultSearchOfferJob_PartialView", "JobOfferSearch", new { sortBy = "date desc" }, new AjaxOptions { HttpMethod = "GET", InsertionMode = InsertionMode.Replace, UpdateTargetId = "groupeResultSearch" })*@



            </div>
            <div class="panel panel-success">
                <div class="panel-heading">
                    @{
                        if (Model.CagtegorieSearch != null)
                        {


                            if (Model.CagtegorieSearch == "Emploi")
                            {
                                <h3 class="panel-title">@Model.ListePro.Count <strong>Annonces</strong> disponibles dans la catégorie <strong>offres Emploi</strong> :</h3>
                            }
                            else if (Model.CagtegorieSearch == "Immobilier")
                            {
                                <h3 class="panel-title">@Model.ListePro.Count <strong>Annonces</strong> disponibles dans la catégorie <strong>offres Immobilier</strong> :</h3>
                            }
                            else if (Model.CagtegorieSearch == "Multimedia")
                            {
                                <h3 class="panel-title">@Model.ListePro.Count <strong>Annonces</strong> disponibles dans la catégorie <strong>offres Multimédia</strong> :</h3>
                            }
                            else if (Model.CagtegorieSearch == "AskSearch")
                            {
                                <h3 class="panel-title">@Model.ListePro.Count <strong>Annonces</strong> disponibles dans la rubrique des demandes :</h3>
                            }
                            else if (Model.CagtegorieSearch == "Vehicule")
                            {
                                <h3 class="panel-title">@Model.ListePro.Count <strong>Annonces</strong> disponibles dans la catégorie <strong>offres Véhicule</strong> :</h3>
                            }
                            else if (Model.CagtegorieSearch == "Mode")
                            {
                                <h3 class="panel-title">@Model.ListePro.Count <strong>Annonces</strong> disponibles dans la catégorie <strong>offres Mode</strong> :</h3>
                            }
                        }
                    }
                </div>
                <div class="list-group">

                    @foreach (var liste in Model.ListeProPagedList)
                    {
                        TimeSpan elapsTime = DateTime.Now - liste.DateAdd;
                        string period = null;
                        int time = 0;

                        if (elapsTime.TotalMinutes < 60)
                        {
                            time = elapsTime.Minutes;
                            period = "minutes";
                        }
                        else if (elapsTime.TotalMinutes > 60 && elapsTime.TotalMinutes < 1440)
                        {
                            time = elapsTime.Hours;
                            period = "Heures";
                        }
                        else if (elapsTime.TotalMinutes > 1440)
                        {
                            time = elapsTime.Days;
                            period = "Jours";
                        }


                        if (liste.Category.CategoryName != null)
                        {
                            try
                            {



                                if (liste.Category.CategoryName == "Emploi")
                                {
                                    <a href="@Url.Action("JobDetail", "Job", new { id = liste.id }, null)" class="list-group-item">
                                        <h4 class="list-group-item-heading"> <strong>@liste.Title</strong> Ville:<span class="text-info"> @liste.Town</span></h4>
                                        <p class="list-group-item-text pull-right text-success">Ajoutée il y'a @time.ToString() @period</p>
                                        <p class="list-group-item-text text-left price"><span>@liste.Price FCFA</span></p>
                                        <p class="list-group-item-text text-left">👷 Emploi</p>
                                        <img src="@liste.Images.Select(m => m.Image).First()" alt="LookAuKwat @liste.Title" style="height:150px" class="img-rounded" />
                                    </a>
                                }
                                else if (liste.Category.CategoryName == "Immobilier")
                                {
                                    <a href="@Url.Action("ApartDetail", "ApartmentRental", new { id = liste.id }, null)" class="list-group-item">
                                        <h4 class="list-group-item-heading"> <strong>@liste.Title</strong> Ville:<span class="text-info"> @liste.Town</span></h4>
                                        <p class="list-group-item-text pull-right text-success">Ajoutée il y'a @time.ToString() @period</p>
                                        <p class="list-group-item-text text-left price"><span>@liste.Price FCFA</span></p>
                                        <p class="list-group-item-text text-left">🏠 Immobilier</p>
                                        <img src="@liste.Images.Select(m => m.Image).First()" alt="LookAuKwat @liste.Title" style="height:150px" class="img-rounded" />
                                    </a>
                                }
                                else if (liste.Category.CategoryName == "Multimedia")
                                {
                                    <a href="@Url.Action("MultimediaDetail", "Multimedia", new { id = liste.id }, null)" class="list-group-item">
                                        <h4 class="list-group-item-heading"> <strong>@liste.Title</strong> Ville:<span class="text-info"> @liste.Town</span></h4>
                                        <p class="list-group-item-text pull-right text-success">Ajoutée il y'a @time.ToString() @period</p>
                                        <p class="list-group-item-text text-left price"><span>@liste.Price FCFA</span></p>
                                        <p class="list-group-item-text text-left">💻 Multimédia</p>
                                        <img src="@liste.Images.Select(m => m.Image).First()" alt="LookAuKwat @liste.Title" style="height:150px" class="img-rounded" />
                                    </a>
                                }
                                else if (liste.Category.CategoryName == "Vehicule")
                                {
                                    <a href="@Url.Action("VehiculeDetail", "Vehicule", new { id = liste.id }, null)" class="list-group-item">
                                        <h4 class="list-group-item-heading"> <strong>@liste.Title</strong> Ville:<span class="text-info"> @liste.Town</span></h4>
                                        <p class="list-group-item-text pull-right text-success">Ajoutée il y'a @time.ToString() @period</p>
                                        <p class="list-group-item-text text-left price"><span>@liste.Price FCFA</span></p>
                                        <p class="list-group-item-text text-left">🚗 Vehicule</p>
                                        <img src="@liste.Images.Select(m => m.Image).First()" alt="LookAuKwat @liste.Title" style="height:150px" class="img-rounded" />
                                    </a>
                                }
                                else if (liste.Category.CategoryName == "Mode")
                                {
                                    <a href="@Url.Action("ModeDetail", "Mode", new { id = liste.id }, null)" class="list-group-item">
                                        <h4 class="list-group-item-heading"> <strong>@liste.Title</strong> Ville:<span class="text-info"> @liste.Town</span></h4>
                                        <p class="list-group-item-text pull-right text-success">Ajoutée il y'a @time.ToString() @period</p>
                                        <p class="list-group-item-text text-left price"><span>@liste.Price FCFA</span></p>
                                        <p class="list-group-item-text text-left">👚 Mode</p>
                                        <img src="@liste.Images.Select(m => m.Image).First()" alt="LookAuKwat @liste.Title" style="height:150px" class="img-rounded" />
                                    </a>
                                }
                            }
                            catch (Exception e) { Console.WriteLine(e); }

                        }
                    }
                </div>
            </div>
            @{
                if (Model.CagtegorieSearch == "Vehicule")
                {

                    @*Page @(Model.ListeProPagedList.PageCount< Model.ListeProPagedList.PageNumber ? 0 : Model.ListeProPagedList.PageNumber) sur @Model.ListeProPagedList.PageCount*@
                    @Html.PagedListPager(Model.ListeProPagedList, pageNumber => Url.Action("searchOfferVehicule", "VehiculeOfferSearch", new { pageNumber, sortBy = Request["sortBy"] }),
         PagedListRenderOptions.EnableUnobtrusiveAjaxReplacing(new AjaxOptions() { HttpMethod = "GET", UpdateTargetId = "groupeResultSearch" }))
                }
                else

                if (Model.CagtegorieSearch == "Emploi")
                {

                    @*Page @(Model.ListeProPagedList.PageCount< Model.ListeProPagedList.PageNumber ? 0 : Model.ListeProPagedList.PageNumber) sur @Model.ListeProPagedList.PageCount*@
                    @Html.PagedListPager(Model.ListeProPagedList, pageNumber => Url.Action("ResultSearchOfferJob_PartialView", "JobOfferSearch", new { pageNumber, sortBy = Request["sortBy"] }),
         PagedListRenderOptions.EnableUnobtrusiveAjaxReplacing(new AjaxOptions() { HttpMethod = "GET", UpdateTargetId = "groupeResultSearch" }))
                }
                else if (Model.CagtegorieSearch == "Immobilier")
                {

                    @*Page @(Model.ListeProPagedList.PageCount< Model.ListeProPagedList.PageNumber ? 0 : Model.ListeProPagedList.PageNumber) sur @Model.ListeProPagedList.PageCount*@
                    @Html.PagedListPager(Model.ListeProPagedList, pageNumber => Url.Action("searchOfferAppart", "ApartmentRentalSearch", new { pageNumber, sortBy = Request["sortBy"] }),
         PagedListRenderOptions.EnableUnobtrusiveAjaxReplacing(new AjaxOptions() { HttpMethod = "GET", UpdateTargetId = "groupeResultSearch" }))
                }
                else if (Model.CagtegorieSearch == "Multimedia")
                {

                    @*Page @(Model.ListeProPagedList.PageCount< Model.ListeProPagedList.PageNumber ? 0 : Model.ListeProPagedList.PageNumber) sur @Model.ListeProPagedList.PageCount*@
                    @Html.PagedListPager(Model.ListeProPagedList, pageNumber => Url.Action("searchOfferMultimedia", "MultimediaOfferSearch", new { pageNumber, sortBy = Request["sortBy"] }),
         PagedListRenderOptions.EnableUnobtrusiveAjaxReplacing(new AjaxOptions() { HttpMethod = "GET", UpdateTargetId = "groupeResultSearch" }))
                }
                else if (Model.CagtegorieSearch == "Mode")
                {

                    @*Page @(Model.ListeProPagedList.PageCount< Model.ListeProPagedList.PageNumber ? 0 : Model.ListeProPagedList.PageNumber) sur @Model.ListeProPagedList.PageCount*@
                    @Html.PagedListPager(Model.ListeProPagedList, pageNumber => Url.Action("searchOfferMode", "ModeOfferSearch", new { pageNumber, sortBy = Request["sortBy"] }),
         PagedListRenderOptions.EnableUnobtrusiveAjaxReplacing(new AjaxOptions() { HttpMethod = "GET", UpdateTargetId = "groupeResultSearch" }))
                }

            }
        </div>
        <div class="col-md-6">
            @*<h1> Publicitéx</h1>*@
        </div>
    </div>
}

<script type="text/javascript">
    $('#AscendingPrice').click(function() {
         var JobMaxPrice = $('#PriceMaxSearch').val();
         var JobMinPrice = $('#PriceMinSearch').val();
         var JobContract = $('#TypeContractJob').val();
         var JobActivitySector = $('#ActivitySectorJob').val();
         var JobCity = $('#TownSearch').val();
         $.ajax({
             url: '@Url.Action("ResultSearchOfferJob_PartialView", "JobOfferSearch")?TownSearch=' + JobCity + '&ActivitySectorJob=' + JobActivitySector
                 + '&TypeContractJob=' + JobContract + '&PriceMinSearch=' + JobMinPrice + '&PriceMaxSearch=' + JobMaxPrice + '&sortBy=' +"Price asc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
        data: { 'toto': JobCity},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
     });

    $('#descendingPrice').click(function() {
         var JobMaxPrice = $('#PriceMaxSearch').val();
         var JobMinPrice = $('#PriceMinSearch').val();
         var JobContract = $('#TypeContractJob').val();
         var JobActivitySector = $('#ActivitySectorJob').val();
         var JobCity = $('#TownSearch').val();
         $.ajax({
             url: '@Url.Action("ResultSearchOfferJob_PartialView", "JobOfferSearch")?TownSearch=' + JobCity + '&ActivitySectorJob=' + JobActivitySector
                 + '&TypeContractJob=' + JobContract + '&PriceMinSearch=' + JobMinPrice + '&PriceMaxSearch=' + JobMaxPrice + '&sortBy=' +"Price desc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
        data: { 'toto': JobCity},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
     });

    $('#MostLastest').click(function() {
         var JobMaxPrice = $('#PriceMaxSearch').val();
         var JobMinPrice = $('#PriceMinSearch').val();
         var JobContract = $('#TypeContractJob').val();
         var JobActivitySector = $('#ActivitySectorJob').val();
         var JobCity = $('#TownSearch').val();
         $.ajax({
             url: '@Url.Action("ResultSearchOfferJob_PartialView", "JobOfferSearch")?TownSearch=' + JobCity + '&ActivitySectorJob=' + JobActivitySector
                 + '&TypeContractJob=' + JobContract + '&PriceMinSearch=' + JobMinPrice + '&PriceMaxSearch=' + JobMaxPrice + '&sortBy=' +"date desc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
        data: { 'toto': JobCity},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
     });

    $('#MostOlder').click(function() {
         var JobMaxPrice = $('#PriceMaxSearch').val();
         var JobMinPrice = $('#PriceMinSearch').val();
         var JobContract = $('#TypeContractJob').val();
         var JobActivitySector = $('#ActivitySectorJob').val();
         var JobCity = $('#TownSearch').val();
         $.ajax({
             url: '@Url.Action("ResultSearchOfferJob_PartialView", "JobOfferSearch")?TownSearch=' + JobCity + '&ActivitySectorJob=' + JobActivitySector
                 + '&TypeContractJob=' + JobContract + '&PriceMinSearch=' + JobMinPrice + '&PriceMaxSearch=' + JobMaxPrice + '&sortBy=' +"date asc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
        data: { 'toto': JobCity},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
    });
    $("#SelectJob").change(function () {
        $("#SelectJob option:selected").click();
    });

    $('#AscendingFlatPrice').click(function() {
        var RoomNumber = $('#RoomNumber').val();
        var MaxApartSurface = $('#MaxApartSurface').val();
        var MinApartSurface = $('#MinApartSurface').val();
        var Type = $('#Type').val();
        var PriceMinSearchApart = $('.PriceMinSearchApart').val();
        var PriceMaxSearchApart = $('.PriceMaxSearchApart').val();
        var TownSearchApart = $('.TownSearchApart').val();
         $.ajax({
             url: '@Url.Action("searchOfferAppart", "ApartmentRentalSearch")?TownSearch=' + TownSearchApart + '&Type=' + Type
                 + '&MinApartSurface=' + MinApartSurface + '&MaxApartSurface=' + MaxApartSurface + '&RoomNumber=' + RoomNumber
                 + '&PriceMinSearchApart=' + PriceMinSearchApart + '&PriceMaxSearchApart=' + PriceMaxSearchApart + '&sortBy=' + "Price asc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
        //data: { 'toto': JobCity},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
     });

    $('#descendingFlatPrice').click(function() {
        var RoomNumber = $('#RoomNumber').val();
        var MaxApartSurface = $('#MaxApartSurface').val();
        var MinApartSurface = $('#MinApartSurface').val();
        var Type = $('#Type').val();
        var PriceMinSearchApart = $('.PriceMinSearchApart').val();
        var PriceMaxSearchApart = $('.PriceMaxSearchApart').val();
        var TownSearchApart = $('.TownSearchApart').val();
         $.ajax({
             url: '@Url.Action("searchOfferAppart", "ApartmentRentalSearch")?TownSearch=' + TownSearchApart + '&Type=' + Type
                 + '&MinApartSurface=' + MinApartSurface + '&MaxApartSurface=' + MaxApartSurface + '&RoomNumber=' + RoomNumber
                 + '&PriceMinSearchApart=' + PriceMinSearchApart + '&PriceMaxSearchApart=' + PriceMaxSearchApart + '&sortBy=' +"Price desc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
        //data: { 'toto': JobCity},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
     });

    $('#MostLastestFlat').click(function() {
        var RoomNumber = $('#RoomNumber').val();
        var MaxApartSurface = $('#MaxApartSurface').val();
        var MinApartSurface = $('#MinApartSurface').val();
        var Type = $('#Type').val();
        var PriceMinSearchApart = $('.PriceMinSearchApart').val();
        var PriceMaxSearchApart = $('.PriceMaxSearchApart').val();
        var TownSearchApart = $('.TownSearchApart').val();
         $.ajax({
             url: '@Url.Action("searchOfferAppart", "ApartmentRentalSearch")?TownSearch=' + TownSearchApart + '&Type=' + Type
                 + '&MinApartSurface=' + MinApartSurface + '&MaxApartSurface=' + MaxApartSurface + '&RoomNumber=' + RoomNumber
                 + '&PriceMinSearchApart=' + PriceMinSearchApart + '&PriceMaxSearchApart=' + PriceMaxSearchApart + '&sortBy=' +"date desc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
       // data: { 'toto': JobCity},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
     });

    $('#MostOlderFlat').click(function() {
        var RoomNumber = $('#RoomNumber').val();
        var MaxApartSurface = $('#MaxApartSurface').val();
        var MinApartSurface = $('#MinApartSurface').val();
        var Type = $('#Type').val();
        var PriceMinSearchApart = $('.PriceMinSearchApart').val();
        var PriceMaxSearchApart = $('.PriceMaxSearchApart').val();
        var TownSearchApart = $('.TownSearchApart').val();
         $.ajax({
             url: '@Url.Action("searchOfferAppart", "ApartmentRentalSearch")?TownSearch=' + TownSearchApart + '&Type=' + Type
                 + '&MinApartSurface=' + MinApartSurface + '&MaxApartSurface=' + MaxApartSurface + '&RoomNumber=' + RoomNumber
                 + '&PriceMinSearchApart=' + PriceMinSearchApart + '&PriceMaxSearchApart=' + PriceMaxSearchApart + '&sortBy=' +"date asc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
            // data: { 'toto': TownSearchApart},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
    });
    $("#SelectFlat").change(function () {
        $("#SelectFlat option:selected").click();
    });

    //for multimedia sort

    $('#AscendingMultiPrice').click(function() {
        var Capacity = $('#Capacity').val();
        var ModelMultimedia = $('#ModelMultimedia').val();
        var BrandMultimedia = $('#BrandMultimedia').val();
        var TypeMultimedia = $('#TypeMultimedia').val();
        var PriceMultimedia = $('#PriceMultimedia').val();
        var TownMultimedia = $('#TownMultimedia').val();
         $.ajax({
             url: '@Url.Action("searchOfferMultimedia", "MultimediaOfferSearch")?TownMultimedia=' + TownMultimedia + '&TypeMultimedia=' + TypeMultimedia
                 + '&PriceMultimedia=' + PriceMultimedia + '&BrandMultimedia=' + BrandMultimedia + '&ModelMultimedia=' + ModelMultimedia
                 + '&Capacity=' + Capacity  + '&sortBy=' + "Price asc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
        //data: { 'toto': JobCity},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
     });

    $('#descendingMultiPrice').click(function() {
        var Capacity = $('#Capacity').val();
        var ModelMultimedia = $('#ModelMultimedia').val();
        var BrandMultimedia = $('#BrandMultimedia').val();
        var TypeMultimedia = $('#TypeMultimedia').val();
        var PriceMultimedia = $('#PriceMultimedia').val();
        var TownMultimedia = $('#TownMultimedia').val();
         $.ajax({
             url: '@Url.Action("searchOfferMultimedia", "MultimediaOfferSearch")?TownMultimedia=' + TownMultimedia + '&TypeMultimedia=' + TypeMultimedia
                 + '&PriceMultimedia=' + PriceMultimedia + '&BrandMultimedia=' + BrandMultimedia + '&ModelMultimedia=' + ModelMultimedia
                 + '&Capacity=' + Capacity + '&sortBy=' + "Price desc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
        //data: { 'toto': JobCity},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
     });

    $('#MostLastestMulti').click(function() {
        var Capacity = $('#Capacity').val();
        var ModelMultimedia = $('#ModelMultimedia').val();
        var BrandMultimedia = $('#BrandMultimedia').val();
        var TypeMultimedia = $('#TypeMultimedia').val();
        var PriceMultimedia = $('#PriceMultimedia').val();
        var TownMultimedia = $('#TownMultimedia').val();
         $.ajax({
             url: '@Url.Action("searchOfferMultimedia", "MultimediaOfferSearch")?TownMultimedia=' + TownMultimedia + '&TypeMultimedia=' + TypeMultimedia
                 + '&PriceMultimedia=' + PriceMultimedia + '&BrandMultimedia=' + BrandMultimedia + '&ModelMultimedia=' + ModelMultimedia
                 + '&Capacity=' + Capacity + '&sortBy=' + "date desc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
       // data: { 'toto': JobCity},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
     });

    $('#MostOlderMulti').click(function() {
       var Capacity = $('#Capacity').val();
        var ModelMultimedia = $('#ModelMultimedia').val();
        var BrandMultimedia = $('#BrandMultimedia').val();
        var TypeMultimedia = $('#TypeMultimedia').val();
        var PriceMultimedia = $('#PriceMultimedia').val();
        var TownMultimedia = $('#TownMultimedia').val();
         $.ajax({
             url: '@Url.Action("searchOfferMultimedia", "MultimediaOfferSearch")?TownMultimedia=' + TownMultimedia + '&TypeMultimedia=' + TypeMultimedia
                 + '&PriceMultimedia=' + PriceMultimedia + '&BrandMultimedia=' + BrandMultimedia + '&ModelMultimedia=' + ModelMultimedia
                 + '&Capacity=' + Capacity  + '&sortBy=' + "date asc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
            // data: { 'toto': TownSearchApart},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
    });
    $("#SelectMulti").change(function () {
        $("#SelectMulti option:selected").click();
    });

    //sort for Vehicule

     $('#AscendingVehiPrice').click(function() {
         var TownVehicule = $('#TownVehicule').val();
         var RubriqueVehicule = $('#RubriqueVehicule').val();
         var BrandVehicule = $('#BrandVehicule').val();
         var ModelVehicule = $('#ModelVehicule').val();

         $.ajax({
             url: '@Url.Action("searchOfferVehicule", "VehiculeOfferSearch")?TownVehicule=' + TownVehicule + '&RubriqueVehicule=' + RubriqueVehicule
                 + '&BrandVehicule=' + BrandVehicule + '&ModelVehicule=' + ModelVehicule + '&sortBy=' + "Price asc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
        //data: { 'toto': JobCity},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
     });

    $('#descendingVehiPrice').click(function() {
        var TownVehicule = $('#TownVehicule').val();
         var RubriqueVehicule = $('#RubriqueVehicule').val();
         var BrandVehicule = $('#BrandVehicule').val();
         var ModelVehicule = $('#ModelVehicule').val();

         $.ajax({
             url: '@Url.Action("searchOfferVehicule", "VehiculeOfferSearch")?TownVehicule=' + TownVehicule + '&RubriqueVehicule=' + RubriqueVehicule
                 + '&BrandVehicule=' + BrandVehicule + '&ModelVehicule=' + ModelVehicule + '&sortBy=' + "Price desc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
        //data: { 'toto': JobCity},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
     });

    $('#MostLastestVehi').click(function() {
         var TownVehicule = $('#TownVehicule').val();
         var RubriqueVehicule = $('#RubriqueVehicule').val();
         var BrandVehicule = $('#BrandVehicule').val();
         var ModelVehicule = $('#ModelVehicule').val();

         $.ajax({
             url: '@Url.Action("searchOfferVehicule", "VehiculeOfferSearch")?TownVehicule=' + TownVehicule + '&RubriqueVehicule=' + RubriqueVehicule
                 + '&BrandVehicule=' + BrandVehicule + '&ModelVehicule=' + ModelVehicule + '&sortBy=' + "date desc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
       // data: { 'toto': JobCity},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
     });

    $('#MostOlderVehi').click(function() {
       var TownVehicule = $('#TownVehicule').val();
         var RubriqueVehicule = $('#RubriqueVehicule').val();
         var BrandVehicule = $('#BrandVehicule').val();
         var ModelVehicule = $('#ModelVehicule').val();

         $.ajax({
             url: '@Url.Action("searchOfferVehicule", "VehiculeOfferSearch")?TownVehicule=' + TownVehicule + '&RubriqueVehicule=' + RubriqueVehicule
                 + '&BrandVehicule=' + BrandVehicule + '&ModelVehicule=' + ModelVehicule + '&sortBy=' + "date asc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
            // data: { 'toto': TownSearchApart},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
    });
    //for click sort
    $("#SelectVehi").change(function () {
        $("#SelectVehi option:selected").click();
    });

// sort for Mode
    
    $('#AscendingModePrice').click(function () {
        console.log("toto")
         var TownMode = $('#TownMode').val();
        var PriceMode = $('#PriceMode').val();
        var RubriqueMode = $('#RubriqueMode').val();
        var TypeModeClothes = $('#TypeModeClothes').val();
        var TypeModeShoes = $('#TypeModeShoes').val();
        var TypeModeAccesorieLugages = $('#TypeModeAccesorieLugages').val();
        var TypeModeWatchJewelry = $('#TypeModeWatchJewelry').val();
        var TypeModeBabyEquipment = $('#TypeModeBabyEquipment').val();
        var TypeModeBabyClothes = $('#TypeModeBabyClothes').val();
        var BrandModeClothes = $('#BrandModeClothes').val();
        var BrandModeShoes = $('#BrandModeShoes').val();
        var UniversMode = $('#UniversMode').val();
        var SizeModeClothes = $('#SizeModeClothes').val();
        var SizeModeShoes = $('#SizeModeShoes').val();
        var ColorMode = $('#ColorMode').val();
        var StateMode = $('#StateMode').val();

         $.ajax({
             url: '@Url.Action("searchOfferMode", "ModeOfferSearch")?TownMode=' + TownMode + '&PriceMode=' + PriceMode
                 + '&RubriqueMode=' + RubriqueMode + '&TypeModeClothes=' + TypeModeClothes + '&TypeModeClothes=' + TypeModeClothes
                 + '&TypeModeClothes=' + TypeModeClothes + '&TypeModeShoes=' + TypeModeShoes + '&TypeModeAccesorieLugages=' + TypeModeAccesorieLugages
                 + '&TypeModeWatchJewelry=' + TypeModeWatchJewelry + '&TypeModeBabyEquipment=' + TypeModeBabyEquipment + '&TypeModeBabyClothes=' + TypeModeBabyClothes
                 + '&BrandModeClothes=' + BrandModeClothes + '&BrandModeShoes=' + BrandModeShoes + '&UniversMode=' + UniversMode
                 + '&SizeModeClothes=' + SizeModeClothes + '&SizeModeShoes=' + SizeModeShoes + '&ColorMode=' + ColorMode
                 + '&StateMode=' + StateMode + '&sortBy=' + "Price asc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
        //data: { 'toto': JobCity},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
     });

    $('#descendingModePrice').click(function() {
        var TownMode = $('#TownMode').val();
        var PriceMode = $('#PriceMode').val();
        var RubriqueMode = $('#RubriqueMode').val();
        var TypeModeClothes = $('#TypeModeClothes').val();
        var TypeModeShoes = $('#TypeModeShoes').val();
        var TypeModeAccesorieLugages = $('#TypeModeAccesorieLugages').val();
        var TypeModeWatchJewelry = $('#TypeModeWatchJewelry').val();
        var TypeModeBabyEquipment = $('#TypeModeBabyEquipment').val();
        var TypeModeBabyClothes = $('#TypeModeBabyClothes').val();
        var BrandModeClothes = $('#BrandModeClothes').val();
        var BrandModeShoes = $('#BrandModeShoes').val();
        var UniversMode = $('#UniversMode').val();
        var SizeModeClothes = $('#SizeModeClothes').val();
        var SizeModeShoes = $('#SizeModeShoes').val();
        var ColorMode = $('#ColorMode').val();
        var StateMode = $('#StateMode').val();

         $.ajax({
             url: '@Url.Action("searchOfferMode", "ModeOfferSearch")?TownMode=' + TownMode + '&PriceMode=' + PriceMode
                 + '&RubriqueMode=' + RubriqueMode + '&TypeModeClothes=' + TypeModeClothes + '&TypeModeClothes=' + TypeModeClothes
                 + '&TypeModeClothes=' + TypeModeClothes + '&TypeModeShoes=' + TypeModeShoes + '&TypeModeAccesorieLugages=' + TypeModeAccesorieLugages
                 + '&TypeModeWatchJewelry=' + TypeModeWatchJewelry + '&TypeModeBabyEquipment=' + TypeModeBabyEquipment + '&TypeModeBabyClothes=' + TypeModeBabyClothes
                 + '&BrandModeClothes=' + BrandModeClothes + '&BrandModeShoes=' + BrandModeShoes + '&UniversMode=' + UniversMode
                 + '&SizeModeClothes=' + SizeModeClothes + '&SizeModeShoes=' + SizeModeShoes + '&ColorMode=' + ColorMode
                 + '&StateMode=' + StateMode + '&sortBy=' + "Price desc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
        //data: { 'toto': JobCity},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
     });

    $('#MostLastestMode').click(function() {
         var TownMode = $('#TownMode').val();
        var PriceMode = $('#PriceMode').val();
        var RubriqueMode = $('#RubriqueMode').val();
        var TypeModeClothes = $('#TypeModeClothes').val();
        var TypeModeShoes = $('#TypeModeShoes').val();
        var TypeModeAccesorieLugages = $('#TypeModeAccesorieLugages').val();
        var TypeModeWatchJewelry = $('#TypeModeWatchJewelry').val();
        var TypeModeBabyEquipment = $('#TypeModeBabyEquipment').val();
        var TypeModeBabyClothes = $('#TypeModeBabyClothes').val();
        var BrandModeClothes = $('#BrandModeClothes').val();
        var BrandModeShoes = $('#BrandModeShoes').val();
        var UniversMode = $('#UniversMode').val();
        var SizeModeClothes = $('#SizeModeClothes').val();
        var SizeModeShoes = $('#SizeModeShoes').val();
        var ColorMode = $('#ColorMode').val();
        var StateMode = $('#StateMode').val();

         $.ajax({
             url: '@Url.Action("searchOfferMode", "ModeOfferSearch")?TownMode=' + TownMode + '&PriceMode=' + PriceMode
                 + '&RubriqueMode=' + RubriqueMode + '&TypeModeClothes=' + TypeModeClothes + '&TypeModeClothes=' + TypeModeClothes
                 + '&TypeModeClothes=' + TypeModeClothes + '&TypeModeShoes=' + TypeModeShoes + '&TypeModeAccesorieLugages=' + TypeModeAccesorieLugages
                 + '&TypeModeWatchJewelry=' + TypeModeWatchJewelry + '&TypeModeBabyEquipment=' + TypeModeBabyEquipment + '&TypeModeBabyClothes=' + TypeModeBabyClothes
                 + '&BrandModeClothes=' + BrandModeClothes + '&BrandModeShoes=' + BrandModeShoes + '&UniversMode=' + UniversMode
                 + '&SizeModeClothes=' + SizeModeClothes + '&SizeModeShoes=' + SizeModeShoes + '&ColorMode=' + ColorMode
                 + '&StateMode=' + StateMode + '&sortBy=' + "date desc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
       // data: { 'toto': JobCity},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
     });

    $('#MostOlderMode').click(function() {
       var TownMode = $('#TownMode').val();
        var PriceMode = $('#PriceMode').val();
        var RubriqueMode = $('#RubriqueMode').val();
        var TypeModeClothes = $('#TypeModeClothes').val();
        var TypeModeShoes = $('#TypeModeShoes').val();
        var TypeModeAccesorieLugages = $('#TypeModeAccesorieLugages').val();
        var TypeModeWatchJewelry = $('#TypeModeWatchJewelry').val();
        var TypeModeBabyEquipment = $('#TypeModeBabyEquipment').val();
        var TypeModeBabyClothes = $('#TypeModeBabyClothes').val();
        var BrandModeClothes = $('#BrandModeClothes').val();
        var BrandModeShoes = $('#BrandModeShoes').val();
        var UniversMode = $('#UniversMode').val();
        var SizeModeClothes = $('#SizeModeClothes').val();
        var SizeModeShoes = $('#SizeModeShoes').val();
        var ColorMode = $('#ColorMode').val();
        var StateMode = $('#StateMode').val();

         $.ajax({
             url: '@Url.Action("searchOfferMode", "ModeOfferSearch")?TownMode=' + TownMode + '&PriceMode=' + PriceMode
                 + '&RubriqueMode=' + RubriqueMode + '&TypeModeClothes=' + TypeModeClothes + '&TypeModeClothes=' + TypeModeClothes
                 + '&TypeModeClothes=' + TypeModeClothes + '&TypeModeShoes=' + TypeModeShoes + '&TypeModeAccesorieLugages=' + TypeModeAccesorieLugages
                 + '&TypeModeWatchJewelry=' + TypeModeWatchJewelry + '&TypeModeBabyEquipment=' + TypeModeBabyEquipment + '&TypeModeBabyClothes=' + TypeModeBabyClothes
                 + '&BrandModeClothes=' + BrandModeClothes + '&BrandModeShoes=' + BrandModeShoes + '&UniversMode=' + UniversMode
                 + '&SizeModeClothes=' + SizeModeClothes + '&SizeModeShoes=' + SizeModeShoes + '&ColorMode=' + ColorMode
                 + '&StateMode=' + StateMode + '&sortBy=' + "date asc",
        type: 'GET',
        contentType: 'application/json; charset=utf-8',
            // data: { 'toto': TownSearchApart},  // JSON.stringify(searchTerm)
        success: function (result) {

            $('#groupeResultSearch').html(result);
        }
      });
     return false;
    });


    //For click mode
    $("#SelectMode").change(function () {
        $("#SelectMode option:selected").click();
    });

    //for local storage
    //$("select.SelectJob").change(function () {
    //    var select = $(this).children("option:selected").val();
    //    if (select != null) {
    //        document.getElementById("SelectJob").onchange = function () {
    //            localStorage['SelectJob'] = document.getElementById("selectJob").value;
    //        }
    //    }
    //})

    ////storage filter Job
    //if (localStorage['selectJob']) {
    //    document.getElementById("selectJob").value = localStorage['selectJob'];
    //};
    //$("select.SelectFlat").change(function () {
    //    var select = $(this).children("option:selected").val();
    //    if (select != "") {
    //        document.getElementById("SelectFlat").onchange = function () {
    //            localStorage['SelectFlat'] = document.getElementById("SelectFlat").value;
    //        }
    //    }
    //})

    //if (localStorage['SelectFlat']) {
    //    document.getElementById("SelectFlat").value = localStorage['SelectFlat'];
    //}
    ////storage filter multimedia
    //$("select.SelectMulti").change(function () {
    //    var select = $(this).children("option:selected").val();
    //    if (select != "") {
    //        document.getElementById("SelectMulti").onchange = function () {
    //            localStorage['SelectMulti'] = document.getElementById("SelectMulti").value;
    //        }
    //    }
    //})

    //if (localStorage['SelectMulti']) {
    //    document.getElementById("SelectMulti").value = localStorage['SelectMulti'];
    //}
    ////storage filter vehicule
    //$("select.SelectVehi").change(function () {
    //    var select = $(this).children("option:selected").val();
    //    if (select != "") {
    //        document.getElementById("SelectVehi").onchange = function () {
    //            localStorage['SelectVehi'] = document.getElementById("SelectVehi").value;
    //        }
    //    }
    //})

    //if (localStorage['SelectVehi']) {
    //    document.getElementById("SelectVehi").value = localStorage['SelectVehi'];
    //}

    ////storage filter mode
    //$("select.SelectMode").change(function () {
    //    var select = $(this).children("option:selected").val();
    //    if (select != "") {
    //        document.getElementById("SelectMode").onchange = function () {
    //            localStorage['SelectMode'] = document.getElementById("SelectMode").value;
    //        }
    //    }
    //})

    //if (localStorage['SelectMode']) {
    //    document.getElementById("SelectMode").value = localStorage['SelectMode'];
    //}



</script>